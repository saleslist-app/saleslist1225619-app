<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Saleslist App</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        padding: 30px;
      }
      h1 {
        color: #333;
      }
      input[type="file"] {
        margin-top: 20px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: left;
      }
      th {
        background-color: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <h1>会社リスト表示</h1>
    <input type="file" id="csvFileInput" accept=".csv" />
    <table id="companyTable"></table>

    <script>
      document.getElementById('csvFileInput').addEventListener('change', function (e) {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function (event) {
          const csvText = event.target.result;
          const lines = csvText.split('\n').filter(line => line.trim() !== '');
          const table = document.getElementById('companyTable');
          table.innerHTML = '';

          const headers = lines[0].split(',');
          const headerRow = document.createElement('tr');
          headers.forEach(header => {
            const th = document.createElement('th');
            th.textContent = header.trim();
            headerRow.appendChild(th);
          });
          table.appendChild(headerRow);

          lines.slice(1).forEach(line => {
            const row = document.createElement('tr');
            line.split(',').forEach(cell => {
              const td = document.createElement('td');
              td.textContent = cell.trim();
              row.appendChild(td);
            });
            table.appendChild(row);
          });
        };
        reader.readAsText(file);
      });
    </script>
  </body>
</html>
